<div class="container-fluid">
  <p id="notice"><%= notice %></p>

<div class="text-center">
  <h1>Order Content</h1>
</div>
<nav class="navbar navbar-light bg-light">
  <form class="form-inline">
    <input class="searchBar" type="text" id="firstInput" onkeyup="description()" placeholder="Search by Order Description" title="Type Orders">&nbsp;&nbsp;&nbsp;
    <input class="searchBar" type="text" id="2Input" onkeyup="start()" placeholder="Search by Start Date" title="Type Orders">&nbsp;&nbsp;&nbsp;
    <input class="searchBar" type="text" id="3Input" onkeyup="finish()" placeholder="Search by Finish Date" title="Type Orders">&nbsp;&nbsp;&nbsp;
    <input class="searchBar" type="text" id="4Input" onkeyup="special()" placeholder="Search by Order Notes" title="Type Orders">&nbsp;&nbsp;&nbsp;
    <input class="searchBar" type="text" id="5Input" onkeyup="product()" placeholder="Search by Product" title="Type Orders">&nbsp;&nbsp;&nbsp;
    <input class="searchBar" type="text" id="6Input" onkeyup="status()" placeholder="Search by Order Content Status" title="Type Orders">&nbsp;&nbsp;&nbsp;
    <input class="searchBar" type="text" id="7Input" onkeyup="order()" placeholder="Search by Order" title="Type Orders">&nbsp;&nbsp;&nbsp;

  </form>
  <%= link_to 'New Order Content', new_order_line_path, class: "btn btn-primary" %>
  <table id= "order_line_table" class="table table-hover">
    <thead class="thead-light">
      <tr>
        <th scope="col"><%= sortable "order_line_description", "Description" %></th>
        <th scope="col"><%= sortable "order_line_start_date", "Start Date" %></th>
        <th scope="col"><%= sortable "order_line_finish_date", "Finish Date" %></th>
        <th scope="col"><%= sortable "special_order_notes", "Special notes" %></th>
        <th scope="col"><%= sortable "product_id", "Product" %></th>
        <th scope="col"><%= sortable "order_line_status_id", "Status" %></th>
        <th scope="col"><%= sortable "order_description", "Order" %></th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @order_lines.each do |order_line| %>
        <tr>
          <td><%= order_line.order_line_description %></td>
          <td><%= order_line.order_line_start_date.to_formatted_s(:long_ordinal) %></td>
          <td><%= order_line.order_line_finish_date.try(:to_formatted_s,:long_ordinal) %></td>
          <td><%= order_line.special_order_notes %></td>
          <td><%= order_line.product.product_name %></td>
          <td><%= order_line.order_line_status.order_line_status_name %></td>
          <td><%= order_line.order.order_description %></td>
          <td><%= link_to 'Show', order_line %></td>
          <td><%= link_to 'Edit', edit_order_line_path(order_line) %></td>
          <td><%= link_to 'Archive', archive_order_line_path(order_line),method: :patch  %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%==pagy_bootstrap_nav(@pagy)%>
</nav>
  <br>
  <script>
  function description() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("firstInput");
    filter = input.value.toUpperCase();
    table = document.getElementById("order_line_table");
    tr = table.getElementsByTagName("tr");
    for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td")[0];
      if (td) {
        txtValue = td.textContent || td.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          tr[i].style.display = "";
        } else {
          tr[i].style.display = "none";
        }
      }
    }
  }
  </script>
  <script>
  function start() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("2Input");
    filter = input.value.toUpperCase();
    table = document.getElementById("order_line_table");
    tr = table.getElementsByTagName("tr");
    for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td")[1];
      if (td) {
        txtValue = td.textContent || td.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          tr[i].style.display = "";
        } else {
          tr[i].style.display = "none";
        }
      }
    }
  }
  </script>
  <script>
  function finish() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("3Input");
    filter = input.value.toUpperCase();
    table = document.getElementById("order_line_table");
    tr = table.getElementsByTagName("tr");
    for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td")[2];
      if (td) {
        txtValue = td.textContent || td.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          tr[i].style.display = "";
        } else {
          tr[i].style.display = "none";
        }
      }
    }
  }
  </script>
  <script>
  function special() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("4Input");
    filter = input.value.toUpperCase();
    table = document.getElementById("order_line_table");
    tr = table.getElementsByTagName("tr");
    for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td")[3];
      if (td) {
        txtValue = td.textContent || td.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          tr[i].style.display = "";
        } else {
          tr[i].style.display = "none";
        }
      }
    }
  }
  </script>
  <script>
  function product() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("5Input");
    filter = input.value.toUpperCase();
    table = document.getElementById("order_line_table");
    tr = table.getElementsByTagName("tr");
    for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td")[4];
      if (td) {
        txtValue = td.textContent || td.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          tr[i].style.display = "";
        } else {
          tr[i].style.display = "none";
        }
      }
    }
  }
  </script>
  <script>
  function status() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("6Input");
    filter = input.value.toUpperCase();
    table = document.getElementById("order_line_table");
    tr = table.getElementsByTagName("tr");
    for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td")[5];
      if (td) {
        txtValue = td.textContent || td.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          tr[i].style.display = "";
        } else {
          tr[i].style.display = "none";
        }
      }
    }
  }
  </script>
  <script>
  function order() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("7Input");
    filter = input.value.toUpperCase();
    table = document.getElementById("order_line_table");
    tr = table.getElementsByTagName("tr");
    for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td")[6];
      if (td) {
        txtValue = td.textContent || td.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          tr[i].style.display = "";
        } else {
          tr[i].style.display = "none";
        }
      }
    }
  }
  </script>
</div>
