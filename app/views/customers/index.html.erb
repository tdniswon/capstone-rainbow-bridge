
<div class="container-fluid">
  <p id="notice"><%= notice %></p>

  <div class="text-center">
    <h1>Customers</h1>
  </div>
  <nav class="navbar navbar-light bg-light">
    <form class="form-inline">
      <%= search_form_for @q do |f| %>
        <%= f.label :customer_first_name_cont, "First Name" %>
        <%= f.search_field :customer_first_name_cont %>
        
      <% end %>

      <%= search_form_for @q do |f| %>
        <%= f.label :customer_last_name_cont, "Last Name" %>
        <%= f.search_field :customer_last_name_cont %>
        <%= f.submit %>
      <% end %>

      <%= search_form_for @q do |f| %>
        <%= f.label :customer_email_cont, "Email" %>
        <%= f.search_field :customer_email_cont %>
        <%= f.submit %>
      <% end %>

    </form>
    
    <%= link_to 'New Customer', new_customer_path, class: "btn btn-primary"%>

    <table id= "smort_table" class="table table-hover">
      <thead class="thead-light">
        <tr>
          <th scope="col"> <%= sort_link(@q, :customer_first_name, "First Name", default_order: :desc) %> </th>
          <th scope="col"><%= sortable "customer_last_name", "Last Name" %> </th>
          <th scope="col"><%= sortable "customer_email", "Email" %> </th>
          <th scope="col"><%= sortable "customer_phone", "Phone" %> </th>
          <th scope="col"><%= sortable "customer_street_address", "Street Address" %> </th>
          <th scope="col"><%= sortable "customer_city", "City" %> </th>
          <th scope="col"><%= sortable "customer_state", "State" %> </th>
          <th scope="col"><%= sortable "customer_zip_code", "Zipcode" %> </th>
          <th scope="col"><%= sortable "customer_status_id", "Customer Status" %> </th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @customers.each do |customer| %>
          <tr>
            <td><%= customer.customer_first_name %></td>
            <td><%= customer.customer_last_name %></td>
            <td><%= customer.customer_email %></td>
            <td><%= customer.customer_phone %></td>
            <td><%= customer.customer_street_address %></td>
            <td><%= customer.customer_city %></td>
            <td><%= customer.customer_state %></td>
            <td><%= customer.customer_zip_code %></td>
            <td><%= customer.customer_status.customer_status_name %></td>
            <td><%= link_to 'Show', customer %></td>
            <td><%= link_to 'Edit', edit_customer_path(customer) %></td>
            <td><%= link_to 'Delete', customer, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          </tr>
        <% end %>
      </tbody>

    </table>

    <%==pagy_bootstrap_nav(@pagy)%>

  </nav>
  
</div>
