<div class="container-fluid">
  <p id="notice"><%= notice %></p>

  <div class="text-center">
    <h1>Employees</h1>
  </div>
  <nav class="navbar navbar-light bg-light">
  <form class="form-inline">
    <center>
      <input class="searchBar" type="text" id="firstInput" onkeyup="firstName()" placeholder="Search by Employee's First Name" title="Type Employee's Name">&nbsp;&nbsp;&nbsp;
      <input class="searchBar" type="text" id="secondInput" onkeyup="lastName()" placeholder="Search by Employee's Last Name" title="Type Employee's Name">&nbsp;&nbsp;&nbsp;

  </center>
		<center>
      <h4>View Therapist Records</h4>
  </form>
<%= link_to 'New Employee', new_employee_path, class: "btn btn-primary" %>
  <table id = "smort table" class="table table-hover">
    <thead class="thead-light">
      <tr>
      <th scope="col"><%= sortable "employee_first_name", "First Name" %></th>
        <th scope="col"><%= sortable "employee_last_name", "Last Name" %></th>
        <th scope="col"><%= sortable "employee_email", "Email" %></th>
        <th scope="col"><%= sortable "employee_phone", "Phone" %></th>
        <th scope="col"><%= sortable "employee_status_id", "Status" %></th>
        <th scope="col"><%= sortable "employee_type_id", "Type" %></th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @employees.each do |employee| %>
        <tr>
          <td><%= employee.employee_first_name %></td>
          <td><%= employee.employee_last_name %></td>
          <td><%= employee.employee_email %></td>
          <td><%= employee.employee_phone %></td>
          <td><%= employee.employee_status.employee_status_name %></td>
          <td><%= employee.employee_type.employee_type_description %></td>
          <td><%= link_to 'Show', employee %></td>
          <td><%= link_to 'Edit', edit_employee_path(employee) %></td>
          <td><%= link_to 'Delete', employee, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%==pagy_bootstrap_nav(@pagy)%>

  <br>
  <script>
function firstName() {
  var input, filter, table, tr, td, i, txtValue;
  input = document.getElementById("firstInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("smort table");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[0];
    if (td) {
      txtValue = td.textContent || td.innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}
</script>
<script>
			function lastName() {
				var input, filter, table, tr, td, i, txtValue;
				input = document.getElementById("secondInput");
				filter = input.value.toUpperCase();
				table = document.getElementById("smort table");
				tr = table.getElementsByTagName("tr");
				for (i = 0; i < tr.length; i++) {
					td = tr[i].getElementsByTagName("td")[1];
					if (td) {
						txtValue = td.textContent || td.innerText;
						if (txtValue.toUpperCase().indexOf(filter) > -1) {
							tr[i].style.display = "";
						} else {
							tr[i].style.display = "none";
						}
					}
				}
			}
		</script>
</div>
