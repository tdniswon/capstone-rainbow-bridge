<div class="container-fluid">
  <p id="notice"><%= notice %></p>

  <div class="text-center">
    <h1>Employees</h1>
  </div>
  <nav class="navbar navbar-light bg-light">
  <form class="form-inline">
	  <input class="searchBar" type="text" id="firstInput" onkeyup="status()" placeholder="Search by Status" title="Type Employee's Name">&nbsp;&nbsp;&nbsp;
      <input class="searchBar" type="text" id="secondInput" onkeyup="type2()" placeholder="Search by Type" title="Type Employee's Name">&nbsp;&nbsp;&nbsp;
      <input class="searchBar" type="text" id="thirdInput" onkeyup="firstName()" placeholder="Search by First Name" title="Type Employee's Name">&nbsp;&nbsp;&nbsp;
      <input class="searchBar" type="text" id="fourthInput" onkeyup="lastName()" placeholder="Search by Last Name" title="Type Employee's Name">&nbsp;&nbsp;&nbsp;
      <input class="searchBar" type="text" id="fifthInput" onkeyup="email()" placeholder="Search by Email" title="Type Employee's Name">&nbsp;&nbsp;&nbsp;
      <input class="searchBar" type="text" id="sixthInput" onkeyup="phone()" placeholder="Search by Phone Number" title="Type Employee's Name">&nbsp;&nbsp;&nbsp;
  </form>
<%= link_to 'New Employee', new_employee_path, class: "btn btn-primary" %>
  <table id = "smort table" class="table table-hover">
    <thead class="thead-light">
      <tr>
	  	<th scope="col"><%= sortable "employee_status_id", "Status" %></th>
        <th scope="col"><%= sortable "employee_type_id", "Type" %></th>
      	<th scope="col"><%= sortable "employee_first_name", "First Name" %></th>
        <th scope="col"><%= sortable "employee_last_name", "Last Name" %></th>
        <th scope="col"><%= sortable "employee_email", "Email" %></th>
        <th scope="col"><%= sortable "employee_phone", "Phone" %></th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @employees.each do |employee| %>
        <tr>
		  <td><%= employee.employee_status.employee_status_name %></td>
          <td><%= employee.employee_type.employee_type_description %></td>
          <td><%= employee.employee_first_name %></td>
          <td><%= employee.employee_last_name %></td>
          <td><%= employee.employee_email %></td>
          <td><%= employee.employee_phone %></td>
          <td><%= link_to 'Show', employee %></td>
          <td><%= link_to 'Edit', edit_employee_path(employee) %></td>
          <td><%= link_to 'Archive', archive_employee_path(employee),method: :patch  %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%==pagy_bootstrap_nav(@pagy)%>

  <br>
  <script>
		function status() {
			var input, filter, table, tr, td, i, txtValue;
			input = document.getElementById("firstInput");
			filter = input.value.toUpperCase();
			table = document.getElementById("smort table");
			tr = table.getElementsByTagName("tr");
			for (i = 0; i < tr.length; i++) {
				td = tr[i].getElementsByTagName("td")[0];
				if (td) {
					txtValue = td.textContent || td.innerText;
					if (txtValue.toUpperCase().indexOf(filter) > -1) {
						tr[i].style.display = "";
					} else {
						tr[i].style.display = "none";
					}
				}
			}
		}
	</script>
	<script>
		function type2() {
			var input, filter, table, tr, td, i, txtValue;
			input = document.getElementById("secondInput");
			filter = input.value.toUpperCase();
			table = document.getElementById("smort table");
			tr = table.getElementsByTagName("tr");
			for (i = 0; i < tr.length; i++) {
				td = tr[i].getElementsByTagName("td")[1];
				if (td) {
					txtValue = td.textContent || td.innerText;
					if (txtValue.toUpperCase().indexOf(filter) > -1) {
						tr[i].style.display = "";
					} else {
						tr[i].style.display = "none";
					}
				}
			}
		}
	</script>
  <script>
	function firstName() {
	var input, filter, table, tr, td, i, txtValue;
	input = document.getElementById("thirdInput");
	filter = input.value.toUpperCase();
	table = document.getElementById("smort table");
	tr = table.getElementsByTagName("tr");
	for (i = 0; i < tr.length; i++) {
		td = tr[i].getElementsByTagName("td")[3];
		if (td) {
		txtValue = td.textContent || td.innerText;
		if (txtValue.toUpperCase().indexOf(filter) > -1) {
			tr[i].style.display = "";
		} else {
			tr[i].style.display = "none";
		}
		}
	}
	}
	</script>
	<script>
		function lastName() {
			var input, filter, table, tr, td, i, txtValue;
			input = document.getElementById("fourthInput");
			filter = input.value.toUpperCase();
			table = document.getElementById("smort table");
			tr = table.getElementsByTagName("tr");
			for (i = 0; i < tr.length; i++) {
				td = tr[i].getElementsByTagName("td")[3];
				if (td) {
					txtValue = td.textContent || td.innerText;
					if (txtValue.toUpperCase().indexOf(filter) > -1) {
						tr[i].style.display = "";
					} else {
						tr[i].style.display = "none";
					}
				}
			}
		}
	</script>
	<script>
		function email() {
			var input, filter, table, tr, td, i, txtValue;
			input = document.getElementById("fifthInput");
			filter = input.value.toUpperCase();
			table = document.getElementById("smort table");
			tr = table.getElementsByTagName("tr");
			for (i = 0; i < tr.length; i++) {
				td = tr[i].getElementsByTagName("td")[4];
				if (td) {
					txtValue = td.textContent || td.innerText;
					if (txtValue.toUpperCase().indexOf(filter) > -1) {
						tr[i].style.display = "";
					} else {
						tr[i].style.display = "none";
					}
				}
			}
		}
	</script>
	<script>
		function phone() {
			var input, filter, table, tr, td, i, txtValue;
			input = document.getElementById("sixthInput");
			filter = input.value.toUpperCase();
			table = document.getElementById("smort table");
			tr = table.getElementsByTagName("tr");
			for (i = 0; i < tr.length; i++) {
				td = tr[i].getElementsByTagName("td")[5];
				if (td) {
					txtValue = td.textContent || td.innerText;
					if (txtValue.toUpperCase().indexOf(filter) > -1) {
						tr[i].style.display = "";
					} else {
						tr[i].style.display = "none";
					}
				}
			}
		}
		</script>
</div>
